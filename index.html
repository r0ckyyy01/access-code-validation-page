<!DOCTYPE html>
<html>
<head>
  <title>Voting Access</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
    input { padding: 10px; width: 250px; margin-bottom: 10px; }
    button { padding: 10px 20px; cursor: pointer; }
    p { font-weight: bold; }
  </style>
</head>
<body>
  <h2>Enter Your Access Code to Vote</h2>
  <form id="codeForm">
    <input type="text" id="code" name="code" placeholder="Enter your code" required>
    <br>
    <button type="submit">Submit</button>
  </form>
  <p id="message"></p>

  <script>
    const form = document.getElementById('codeForm');
    const message = document.getElementById('message');

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const code = document.getElementById('code').value.trim();
      if (!code) return;

      message.innerHTML = "⏳ Checking your access code...";
      fetch('https://script.google.com/macros/s/AKfycbwW2UBa0MAn51CVvENoLoZjMzoroMDY2knhfgaGu9FvkPSgVmyJfJA7HupxeXPu1v6I/exec' + encodeURIComponent(code))
        .then(response => response.text())
        .then(html => {
          message.innerHTML = html;
        })
        .catch(err => {
          message.innerHTML = "⚠️ Error connecting to server.";
          console.error(err);
        });
    });
  </script>
</body>
</html>
